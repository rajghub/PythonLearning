fileinput already supports OOOOOOOOOOutplace editing. It redirects stdout to the file in this case: